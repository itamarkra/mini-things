<!DOCTYPE html>
<html lang="he">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title> </title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #222;
    color: #eee;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
    direction: rtl;
  }

  h1 {
    margin-bottom: 20px;
  }

  #wheel {
    position: relative;
    width: 300px;
    height: 300px;
    border-radius: 50%;
    border: 8px solid #f9d423;
    overflow: hidden;
    box-shadow: 0 0 20px #f9d423aa;
    transition: transform 4s cubic-bezier(0.33, 1, 0.68, 1);
  }

  .segment {
    position: absolute;
    width: 50%;
    height: 50%;
    background: #f9d423;
    top: 50%;
    left: 50%;
    transform-origin: 0% 0%;
    border: 2px solid #222;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding-left: 10px;
    font-weight: bold;
    color: #222;
  }

  #pointer {
    margin-top: 20px;
    width: 0; 
    height: 0; 
    border-left: 20px solid transparent;
    border-right: 20px solid transparent;
    border-bottom: 30px solid #f9d423;
  }

  button {
    margin-top: 30px;
    padding: 10px 20px;
    font-size: 1.1rem;
    background: #f9d423;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    color: #222;
    font-weight: bold;
    box-shadow: 0 0 10px #f9d423aa;
    transition: background 0.3s;
  }

  button:hover {
    background: #f2c029;
  }
</style>
</head>
<body>

<h1>  </h1>
<div id="wheel"></div>
<div id="pointer"></div>
<button onclick="spin()">住 !</button>

<script>
  const prizes = [
    "驻专住 专砖 ",
    "驻专住 砖 ",
    "驻专住 砖砖 ",
    "注 转 ",
    " ! ",
    "住 砖 ",
    "转 驻转注 ",
    "驻砖  锔"
  ];

  const wheel = document.getElementById("wheel");
  const numSegments = prizes.length;
  const segmentAngle = 360 / numSegments;

  // 爪专 转 拽注 
  for (let i = 0; i < numSegments; i++) {
    const segment = document.createElement("div");
    segment.classList.add("segment");
    segment.style.transform = `rotate(${i * segmentAngle}deg) skewY(${90 - segmentAngle}deg)`;
    segment.style.background = i % 2 === 0 ? "#f9d423" : "#fceabb";
    segment.textContent = prizes[i];
    wheel.appendChild(segment);
  }

  let currentRotation = 0;

  function spin() {
    //  转驻砖专 住 驻 砖住 拽 住转
    if (wheel.style.transition) return;

    //  住  + 转 拽专转 注 
    const spins = Math.floor(Math.random() * 3) + 4; // 4-6 住
    const randomAngle = Math.floor(Math.random() * 360);
    const totalRotation = spins * 360 + randomAngle;

    currentRotation += totalRotation;

    wheel.style.transition = "transform 4s cubic-bezier(0.33, 1, 0.68, 1)";
    wheel.style.transform = `rotate(${currentRotation}deg)`;

    // 专 砖 注爪专
    setTimeout(() => {
      wheel.style.transition = "";
      // 砖 转 住驻转 (0-360)
      const finalRotation = currentRotation % 360;
      // 转 砖 驻专住  360 - finalRotation   砖 住
      const normalizedAngle = 360 - finalRotation;

      //  驻专住 爪 驻 转
      const index = Math.floor(normalizedAngle / segmentAngle) % numSegments;
      alert(`爪转 注: ${prizes[index]} `);
    }, 4000);
  }
</script>

</body>
</html>
